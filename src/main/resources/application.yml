server:
  port: 8080 # Opcional, mas não faz mal

spring:
  # APAGUE TODO O BLOCO 'datasource:'
  # Não deve haver 'spring.datasource:' neste arquivo.
  # DEIXE O SPRING BOOT FAZER A MÁGICA DELE.

  jpa:
    # Esta é a única coisa que precisamos
    hibernate:
      ddl-auto: update # ou ${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
  
  # Suas configurações de email (isto está perfeito)
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${SPRING_MAIL_USERNAME}
    password: ${SPRING_MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
